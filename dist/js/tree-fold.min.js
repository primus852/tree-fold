(function(a){a.fn.treeFold=function(b){var c=a.extend({baseClass:"fa",openedClass:"fa-minus",closedClass:"fa-plus",onLastItem:function(f){}},b);var d=a(this);d.addClass("tf");d.find("li").has("ul").each(function(){var e=a(this);e.prepend("<i class='bar "+c.baseClass+" "+c.closedClass+"'></i>");e.addClass("tRow");e.on("click",function(g){if(this===g.target){var f=a(this).children("i:first");f.toggleClass(c.openedClass+" "+c.closedClass);a(this).children().children().toggle()}});e.children().children().toggle()});d.find("li").not(":has(ul)").each(function(){var e=a(this);e.on("click",function(f){if(this===f.target){c.onLastItem(e)}})});d.find(".tRow .indicator").each(function(){a(this).on("click",function(){a(this).closest("li").click()})})}}(jQuery));